{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      form: {\n        number: undefined\n      },\n      response: {}\n    };\n  },\n  methods: {\n    convertNumberSSE: async function (e) {\n      e.preventDefault();\n      this.response = {};\n      axios.post(process.env.VUE_APP_API_URL + \"/numberToRomain\", this.form);\n    },\n    convertNumber: async function (e) {\n      e.preventDefault();\n      this.response = {};\n      axios.post(process.env.VUE_APP_API_URL + \"/sse/numberToRomain\", this.form).then(response => {\n        return response.data;\n      }).catch(error => {\n        return error.response.data;\n      });\n    },\n    cancel: function () {\n      this.response = {};\n      this.form.number = undefined;\n      this.$refs.form.reset();\n    }\n  },\n  mounted() {\n    // init sse connexion\n    let source = new EventSource(process.env.VUE_APP_API_URL + \"/sse\");\n\n    // update when sse send event number-to-romain\n    source.addEventListener('number-to-romain', event => {\n      let data = JSON.parse(event.data);\n      this.form.number = data.number;\n      this.response = data;\n    });\n  }\n};","map":{"version":3,"names":["axios","name","props","msg","String","data","form","number","undefined","response","methods","convertNumberSSE","e","preventDefault","post","process","env","VUE_APP_API_URL","convertNumber","then","catch","error","cancel","$refs","reset","mounted","source","EventSource","addEventListener","event","JSON","parse"],"sources":["/Users/ulrich/mes_projets/jolimoi-ok/numberToRomain_front/src/components/numberToRomain.vue"],"sourcesContent":["<template>\n  <div class=\"container-lg\">\n    <div class=\"row justify-content-center\">\n      <h1 v-text=\"msg\" class=\"m-2 text-center\"></h1>\n      <form class=\"col-md-4 bg-light shadow p-4\" id=\"app\" v-on:submit=\"convertNumber\" ref=\"form\">\n        <h4 v-text=\"'Please complete the form'\" class=\"pb-2\"></h4>\n        <div class=\"form-group d-flex w-100 pb-3\">\n          <div class=\"pe-3 pt-1\">Number</div>\n          <input v-model=\"form.number\" v-on:focusin=\"response={}\" required placeholder=\"Enter a number between 1-100\"\n                 class=\"form-control float-lg-end\" id=\"number\" type=\"number\" name=\"number\" min=\"1\" max=\"100\">\n        </div>\n        <p class=\"alert alert-info pb-3 w-100\" v-if=\"Object.keys(response).length>0 && response.error === false\" v-text=\"'Roamin of '+form.number+' is ' +response.result\"></p>\n        <p class=\"alert alert-danger pb-3 w-100\" v-if=\"Object.keys(response).length>0 && response.error===true\"  v-text=\"response.message\"></p>\n        <input class=\"w-25 m-2 btn btn-sm btn-primary float-lg-end\" type=\"submit\" value=\"submit\">\n        <input class=\"w-25 m-2 btn btn-sm btn-secondary float-lg-start\" type=\"button\" v-on:click=\"cancel\" value=\"cancel\">\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport axios from \"axios\";\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      form: {\n        number: undefined\n      },\n      response: {\n      }\n    };\n  },\n  methods: {\n    convertNumberSSE: async function (e) {\n      e.preventDefault();\n      this.response = {};\n      axios.post(process.env.VUE_APP_API_URL + \"/numberToRomain\", this.form)\n    },\n    convertNumber: async function (e) {\n      e.preventDefault();\n      this.response = {};\n      axios.post(process.env.VUE_APP_API_URL + \"/sse/numberToRomain\", this.form).then(response => {\n        return response.data\n      }).catch(error =>{\n        return error.response.data\n      })\n    },\n    cancel: function(){\n      this.response = {};\n      this.form.number=undefined;\n      this.$refs.form.reset();\n    }\n  },\n  mounted() {\n\n    // init sse connexion\n    let source = new EventSource(process.env.VUE_APP_API_URL + \"/sse\");\n\n    // update when sse send event number-to-romain\n    source.addEventListener('number-to-romain',(event)=>{\n      let data = JSON.parse(event.data)\n      this.form.number = data.number\n      this.response = data;\n    })\n  }\n}\n</script>\n\n"],"mappings":"AAsBA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,GAAG,EAAEC;EACP,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,MAAM,EAAEC;MACV,CAAC;MACDC,QAAQ,EAAE,CACV;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgB,EAAE,eAAAA,CAAgBC,CAAC,EAAE;MACnCA,CAAC,CAACC,cAAc,EAAE;MAClB,IAAI,CAACJ,QAAO,GAAI,CAAC,CAAC;MAClBT,KAAK,CAACc,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,eAAc,GAAI,iBAAiB,EAAE,IAAI,CAACX,IAAI;IACvE,CAAC;IACDY,aAAa,EAAE,eAAAA,CAAgBN,CAAC,EAAE;MAChCA,CAAC,CAACC,cAAc,EAAE;MAClB,IAAI,CAACJ,QAAO,GAAI,CAAC,CAAC;MAClBT,KAAK,CAACc,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,eAAc,GAAI,qBAAqB,EAAE,IAAI,CAACX,IAAI,CAAC,CAACa,IAAI,CAACV,QAAO,IAAK;QAC1F,OAAOA,QAAQ,CAACJ,IAAG;MACrB,CAAC,CAAC,CAACe,KAAK,CAACC,KAAI,IAAI;QACf,OAAOA,KAAK,CAACZ,QAAQ,CAACJ,IAAG;MAC3B,CAAC;IACH,CAAC;IACDiB,MAAM,EAAE,SAAAA,CAAA,EAAU;MAChB,IAAI,CAACb,QAAO,GAAI,CAAC,CAAC;MAClB,IAAI,CAACH,IAAI,CAACC,MAAM,GAACC,SAAS;MAC1B,IAAI,CAACe,KAAK,CAACjB,IAAI,CAACkB,KAAK,EAAE;IACzB;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IAER;IACA,IAAIC,MAAK,GAAI,IAAIC,WAAW,CAACZ,OAAO,CAACC,GAAG,CAACC,eAAc,GAAI,MAAM,CAAC;;IAElE;IACAS,MAAM,CAACE,gBAAgB,CAAC,kBAAkB,EAAEC,KAAK,IAAG;MAClD,IAAIxB,IAAG,GAAIyB,IAAI,CAACC,KAAK,CAACF,KAAK,CAACxB,IAAI;MAChC,IAAI,CAACC,IAAI,CAACC,MAAK,GAAIF,IAAI,CAACE,MAAK;MAC7B,IAAI,CAACE,QAAO,GAAIJ,IAAI;IACtB,CAAC;EACH;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}